{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abdoe\\\\OneDrive\\\\Desktop\\\\new sheikh\\\\Software-Project\\\\frontend\\\\src\\\\components\\\\CartComponent.js\";\nimport { Component, Fragment } from 'react';\nimport AppNavbar from './AppNavbar';\nimport { Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Alert, Container } from 'reactstrap'; //import PropTypes from 'prop-types';\n//import { connect } from 'react-redux';\n//import { getCart, deleteFromCart } from '../actions/cartActions';\n\nimport Checkout from './Checkout';\nimport { checkout } from '../actions/orderActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loaded: false\n    };\n\n    this.getCartItems = async id => {\n      await this.props.getCart(id);\n      this.state.loaded = true;\n    };\n\n    this.onDeleteFromCart = (id, itemId) => {\n      this.props.deleteFromCart(id, itemId);\n    };\n  }\n\n  render() {\n    const user = this.props.user;\n\n    if (this.props.isAuthenticated && !this.props.cart.loading && !this.state.loaded) {\n      this.getCartItems(user._id);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(AppNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), this.props.isAuthenticated ? /*#__PURE__*/_jsxDEV(Fragment, {\n        children: this.props.cart.cart ? null : /*#__PURE__*/_jsxDEV(Alert, {\n          color: \"info\",\n          className: \"text-center\",\n          children: \"Your cart is empty!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n        color: \"danger\",\n        className: \"text-center\",\n        children: \"Login to View!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 23\n      }, this), this.props.isAuthenticated && !this.props.cart.loading && this.state.loaded && this.props.cart.cart ? /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [this.props.cart.cart.items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h5\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n                  tag: \"h6\",\n                  children: [\"Rs. \", item.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                  children: [\"Quantity - \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"danger\",\n                  onClick: this.onDeleteFromCart.bind(this, user._id, item.productId),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-12\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                  tag: \"h5\",\n                  children: [\"Total Cost = Rs. \", this.props.cart.cart.bill]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Checkout, {\n                  user: user._id,\n                  amount: this.props.cart.cart.bill,\n                  checkout: this.props.checkout\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nCart.propTypes = {\n  getCart: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  addToCart: PropTypes.func.isRequired,\n  deleteFromCart: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  cart: PropTypes.object.isRequired,\n  checkout: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  cart: state.cart,\n  isAuthenticated: state.auth.isAuthenticated,\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  getCart,\n  deleteFromCart,\n  checkout\n})(Cart);","map":{"version":3,"names":["Component","Fragment","AppNavbar","Card","CardText","CardBody","CardTitle","CardSubtitle","Button","Alert","Container","Checkout","checkout","Cart","state","loaded","getCartItems","id","props","getCart","onDeleteFromCart","itemId","deleteFromCart","render","user","isAuthenticated","cart","loading","_id","items","map","item","name","price","quantity","bind","productId","bill","propTypes","PropTypes","func","isRequired","bool","addToCart","object","mapStateToProps","auth","connect"],"sources":["C:/Users/abdoe/OneDrive/Desktop/new sheikh/Software-Project/frontend/src/components/CartComponent.js"],"sourcesContent":["import { Component, Fragment } from 'react';\r\nimport AppNavbar from './AppNavbar';\r\nimport {Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Alert, Container} from 'reactstrap';\r\n//import PropTypes from 'prop-types';\r\n//import { connect } from 'react-redux';\r\n//import { getCart, deleteFromCart } from '../actions/cartActions';\r\nimport Checkout from './Checkout';\r\nimport { checkout } from '../actions/orderActions';\r\n\r\nclass Cart extends Component {\r\n\r\n    state = {\r\n        loaded: false,\r\n    }\r\n\r\n    static propTypes = {\r\n        getCart: PropTypes.func.isRequired,\r\n        isAuthenticated: PropTypes.bool,\r\n        addToCart: PropTypes.func.isRequired,\r\n        deleteFromCart: PropTypes.func.isRequired,\r\n        user: PropTypes.object.isRequired,\r\n        cart: PropTypes.object.isRequired,\r\n        checkout: PropTypes.func.isRequired\r\n    }\r\n\r\n    getCartItems = async (id) => {\r\n        await this.props.getCart(id);\r\n        this.state.loaded = true;\r\n    }\r\n\r\n    onDeleteFromCart = (id, itemId) => {\r\n        this.props.deleteFromCart(id, itemId);\r\n    } \r\n\r\n    render(){\r\n        const user = this.props.user;\r\n        if(this.props.isAuthenticated && !this.props.cart.loading && !this.state.loaded){\r\n            this.getCartItems(user._id);\r\n        }\r\n        return(\r\n            <div>\r\n                <AppNavbar/>\r\n                {this.props.isAuthenticated ?\r\n                    <Fragment>\r\n                        {this.props.cart.cart ? null :\r\n                            <Alert color=\"info\" className=\"text-center\">Your cart is empty!</Alert>\r\n                        }\r\n                    </Fragment>\r\n                    : <Alert color=\"danger\" className=\"text-center\">Login to View!</Alert>\r\n                }  \r\n\r\n\r\n                {this.props.isAuthenticated && !this.props.cart.loading && this.state.loaded && this.props.cart.cart?\r\n                <Container>\r\n                    <div className=\"row\">\r\n                        {this.props.cart.cart.items.map((item)=>(\r\n                            <div className=\"col-md-4\">\r\n                        <Card>\r\n                            <CardBody>\r\n                                <CardTitle tag=\"h5\">{item.name}</CardTitle>\r\n                                <CardSubtitle tag=\"h6\">Rs. {item.price}</CardSubtitle>\r\n                                <CardText>Quantity - {item.quantity}</CardText>\r\n                                <Button color=\"danger\" onClick={this.onDeleteFromCart.bind(this, user._id, item.productId)}>Delete</Button>\r\n                            </CardBody>\r\n                        </Card>\r\n                        <br/>\r\n                        </div>\r\n                        ))}\r\n                        <div class=\"col-md-12\">\r\n                        <Card>\r\n                            <CardBody>\r\n                                <CardTitle tag=\"h5\">Total Cost = Rs. {this.props.cart.cart.bill}</CardTitle>\r\n                                <Checkout\r\n                                    user={user._id}\r\n                                    amount={this.props.cart.cart.bill}\r\n                                    checkout={this.props.checkout}\r\n                                />                   \r\n                            </CardBody>\r\n                        </Card>\r\n                        </div>\r\n                    </div>\r\n                </Container>\r\n                    :null}\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cart: state.cart,\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    user: state.auth.user,\r\n})\r\n\r\nexport default connect(mapStateToProps, {getCart, deleteFromCart, checkout})(Cart);"],"mappings":"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"},"metadata":{},"sourceType":"module"}